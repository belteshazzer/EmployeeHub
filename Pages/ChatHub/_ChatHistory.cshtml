@model List<EmployeeHub.Models.Dtos.ChatHistory>

@foreach (var message in Model)
{
    var isCurrentUser = message.ReceiverUserId != ViewData["CurrentUserId"] as Guid?;
    <div class="message @(isCurrentUser ? "message-sent" : "message-received")">
        <div class="message-content">@message.Message</div>
        <div class="message-info">
            <span>@message.Timestamp.ToString("h:mm tt")</span>
            @if (isCurrentUser)
            {
                <span>@(message.IsRead ? "✓✓" : "✓")</span>
            }
        </div>
    </div>
}